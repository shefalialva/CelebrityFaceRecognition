(this.webpackJsonpcomments=this.webpackJsonpcomments||[]).push([[9],{157:function(t,e,a){"use strict";a.r(e);var n=a(51),c=a(52),s=a(58),o=a(56),r=a(0),i=a(70),d=a(57),l=a(43),b=a.n(l),m=a(48),u=a(44),j=a(42),p=a(2),f=a(107),h=(a(74),a(73)),O=a(46),x=a(75),g=a(59),v=a(53),w=a(55),y=a(108),N=a(49),k=a(64),S=a(1);var C=Object(p.g)((function(t){var e=Object(r.useState)(!0),a=Object(j.a)(e,2),n=a[0],c=a[1],s=Object(r.useState)(),o=Object(j.a)(s,2),l=o[0],p=o[1],C=Object(r.useState)(""),I=Object(j.a)(C,2),R=I[0],_=I[1],D=Object(r.useState)(!1),E=Object(j.a)(D,2),L=E[0],A=E[1],U=Object(r.useState)(""),M=Object(j.a)(U,2),K=M[0],P=M[1],J=Object(r.useState)(),T=Object(j.a)(J,2),q=T[0],z=T[1],F=Object(r.useState)("time"),H=Object(j.a)(F,2),V=H[0],W=H[1],B=Object(r.useState)("dsc"),G=Object(j.a)(B,2),Q=G[0],X=G[1],Y=Object(r.useState)(),Z=Object(j.a)(Y,2),$=Z[0],tt=Z[1],et=Object(r.useState)(!1),at=Object(j.a)(et,2),nt=at[0],ct=at[1],st=Object(r.useState)(""),ot=Object(j.a)(st,2),rt=ot[0],it=ot[1],dt=Object(r.useState)(!1),lt=Object(j.a)(dt,2),bt=lt[0],mt=lt[1],ut=Object(r.useState)(!1),jt=Object(j.a)(ut,2),pt=jt[0],ft=jt[1],ht=Object(r.useState)(void 0),Ot=Object(j.a)(ht,2),xt=Ot[0],gt=Ot[1],vt=Object(r.useState)([]),wt=Object(j.a)(vt,2),yt=wt[0],Nt=wt[1];Kt.bind(this),Jt.bind(this);var kt=new URLSearchParams(t.location.search).get("rel"),St=t.match.params.postId,Ct=t.match.params.postTitle,It=t.match.params.domainName,Rt=Object(r.useRef)(),_t=Object(r.useRef)();function Dt(){return(Dt=Object(u.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(O.d)().then((function(t){z(Object(m.a)({},t.data))})).catch((function(t){var e,a;403===(null===(e=t.response)||void 0===e?void 0:e.status)&&"Session Expired"==(null===(a=t.response.data)||void 0===a?void 0:a.detail)||(it("Unable to fetch user details..."),mt(!0))}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Et(t){return Lt.apply(this,arguments)}function Lt(){return(Lt=Object(u.a)(b.a.mark((function e(a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ct(!0),a&&p(),e.next=4,Object(O.b)(V,Q,t.match.params.postId,a?"":K,"",void 0,It).then((function(t){var e=[];t.data.data.comments.forEach((function(t,a){e.push(t.comment_id)})),Nt(e),p(a?t.data.data.comments:[].concat(Object(d.a)(l),Object(d.a)(t.data.data.comments))),c(t.data.LastEvaluatedKey),P(t.data.LastEvaluatedKey),gt(t.data.total_comments)})).catch((function(t){it("Unable to fetch comments..."),ft(!0)}));case 4:ct(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function At(){return(At=Object(u.a)(b.a.mark((function t(e){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:yt.length&&Ut(yt,e);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ut(t,e){return Mt.apply(this,arguments)}function Mt(){return(Mt=Object(u.a)(b.a.mark((function t(e,a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(O.e)(e).then((function(t){tt(a?t.data:Object(m.a)(Object(m.a)({},$),t.data))})).catch((function(t){it("Unable to fetch Vote Status..."),mt(!0)}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Kt(t){return Pt.apply(this,arguments)}function Pt(){return(Pt=Object(u.a)(b.a.mark((function e(a){var n,c,s,o,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),n=!1,c=Object(g.a)(a,k.a,1),s=[t.match.params.postId],o={public_tags:c,private_tags:s},r="",e.next=8,Object(O.i)(a,"",It,t.match.params.postId,kt,Ct,o).then((function(t){r=t.data.comment_id,tt(Object(m.a)(Object(m.a)({},$),{},Object(i.a)({},t.data.comment_id,{vote_type:0}))),p(l?[t.data].concat(Object(d.a)(l)):[t.data]),n=!0,Object(N.b)("Comment saved successfully!")})).catch((function(t){it("Unable to add comment... Please try again later !!"),mt(!0)}));case 8:return A(!1),e.abrupt("return",[n,r]);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jt(t,e){return Tt.apply(this,arguments)}function Tt(){return(Tt=Object(u.a)(b.a.mark((function t(e,a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e!=V&&W(e),a&&X(a);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(r.useEffect)((function(){Object(g.c)()})),Object(r.useEffect)((function(){!function(){Dt.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){P(""),Et(!0)}),[V,Q]),Object(r.useEffect)((function(){l&&q&&function(t){At.apply(this,arguments)}(!0)}),[l,q]),Object(r.useEffect)((function(){(localStorage.getItem("saved-comment-discuss-new-comment-".concat(St))?localStorage.getItem("saved-comment-discuss-new-comment-".concat(St)).replaceAll("&nbsp;","").replaceAll("<p>","").replaceAll("</p>","").replaceAll(" ",""):"")||A(!0);var t=localStorage.getItem("saved-comment-discuss-new-comment-".concat(St));_(t)}),[]),Object(S.jsxs)("section",{ref:Rt,id:"comment-sys",children:["gfg"===It&&Object(S.jsx)("div",{className:"row",children:Object(S.jsx)("div",{className:"col-md-12",style:{background:"#dfe7fa 0% 0% no-repeat padding-box",display:"flex",alignItems:"center",position:"relative",padding:"1.5%",borderRadius:"10px",justifyContent:"center",textAlign:"center",fontWeight:"600",color:"#333",fontSize:"14px",fontFamily:"sofia-pro",margin:"15px"},children:Object(S.jsx)("div",{style:{display:"flex",alignItems:"center",background:"#dfe7fa !important"},children:Object(S.jsx)("span",{children:"Have a question or found an error? Let us know below and we'll try our best to respond!\xa0"})})})}),Object(S.jsx)(x.a,{orderData:Jt.bind(this),totalComments:xt}),function(){return pt?Object(S.jsx)("div",{className:"mt-3",children:Object(S.jsx)("div",{className:"alert alert-danger text-center",role:"alert",children:rt})}):l?Object(S.jsxs)("div",{children:[q&&!q.is_ban&&Object(S.jsx)(h.a,{saveComment:Kt.bind(this),disableSubmit:L,userData:q,domain:It,postId:t.match.params.postId,height:100,commentData:R,localStorageKey:"saved-comment-discuss-new-comment-".concat(St)}),bt&&Object(S.jsx)("div",{className:"mt-3",children:Object(S.jsx)("div",{className:"alert alert-danger text-center",role:"alert",children:rt})}),!l.length&&Object(S.jsx)("p",{className:"text-center text-secondary mt-3",children:"No Comments to load"}),l.map((function(t,e){return Object(S.jsx)("div",{children:Object(S.jsx)(f.a,{comment:t,userData:q,voteStatus:$?$[t.comment_id]:null})},t.comment_id)})),!!n&&!!l.length&&Object(S.jsx)("div",{className:"d-flex justify-content-center mb-3 mt-2",children:Object(S.jsx)("button",{disabled:nt,onClick:function(){Et(!1)},className:"btn btn-light sofia-pro font-weight-bold",children:"Load More Comments"})})]}):Object(S.jsx)("section",{className:"ml-15 mr-15",children:Object(S.jsx)(y.a,{})})}(),Object(S.jsx)("button",{ref:_t,id:"back-to-top",className:"btn back-to-top d-none",onClick:function(){Object(g.b)(Rt)},children:Object(S.jsx)(v.a,{className:"text-white",icon:w.b})})]})})),I=function(t){Object(s.a)(r,t);var e=Object(o.a)(r);function r(t){var a;return Object(n.a)(this,r),(a=e.call(this,t)).state={},a}return Object(c.a)(r,[{key:"componentDidMount",value:function(){"dark"===new URLSearchParams(window.location.search).get("mode")&&a.e(8).then(a.t.bind(null,154,7))}},{key:"render",value:function(){return Object(S.jsx)("section",{children:Object(S.jsx)(C,{})})}}]),r}(r.Component);e.default=I},75:function(t,e,a){"use strict";var n=a(42),c=a(0),s=a(12),o=a(2),r=a(1);e.a=Object(o.g)((function(t){var e=t.orderData,a=t.fireDomainChange,o=Object(c.useState)("Most Recent"),i=Object(n.a)(o,2),d=i[0],l=i[1],b=Object(c.useState)("All Domains"),m=Object(n.a)(b,2),u=m[0],j=m[1],p=encodeURIComponent(t.match.params.domainName);return encodeURIComponent(t.match.params.postId),Object(c.useEffect)((function(){}),[]),Object(r.jsx)("section",{className:"ml-15 mr-15",children:Object(r.jsx)("div",{className:"px-0 mb-3",children:Object(r.jsx)("div",{className:"d-flex mx-0",children:Object(r.jsxs)("div",{className:"col-12 px-0",children:[Object(r.jsxs)("h5",{className:"float-left font-weight-bold headingStyle sofia-pro",children:["Discussions",!!t.totalComments&&Object(r.jsxs)("span",{className:"text-secondary ml-2 h6",children:[" ( ",t.totalComments," Threads )"]}),!t.dashboard&&Object(r.jsx)(s.b,{target:"_blank",to:{pathname:"/dashboard?utm-source=".concat(p,"&utm-event=comment-thread")},children:Object(r.jsx)("img",{className:"ml-2 pb-1 external-link-icon",alt:"Click to open dashboard",src:"https://media.geeksforgeeks.org/img-practice/external_link-1629374313.svg"})})]}),Object(r.jsx)("div",{className:"float-right",children:Object(r.jsxs)("div",{className:"dropdown",children:[Object(r.jsx)("button",{className:"sofia-pro btn btn-sm dropdown-toggle font-weight-bold sofia-pro",type:"button",id:"filter-options","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:d}),Object(r.jsxs)("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"filter-options",children:[Object(r.jsx)("button",{onClick:function(){l("Most Recent"),e("time","dsc")},className:"dropdown-item font-weight-bold sofia-pro",children:"Most Recent"}),Object(r.jsx)("button",{onClick:function(){l("Least Recent"),e("time","asc")},className:"dropdown-item font-weight-bold sofia-pro",children:"Least Recent"}),Object(r.jsx)("button",{onClick:function(){l("Most Rated"),e("votes","dsc")},className:"dropdown-item font-weight-bold sofia-pro",children:"Most Rated"})]})]})}),Object(r.jsx)("div",{className:"float-right",children:t.dashboard&&t.domainList&&Object(r.jsxs)("div",{className:"dropdown",children:[Object(r.jsx)("button",{className:"w-100 sofia-pro btn btn-sm dropdown-toggle font-weight-bold sofia-pro",type:"button",id:"filter-options","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:u}),Object(r.jsxs)("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"filter-options",children:[Object(r.jsx)("button",{onClick:function(){j("All Domains"),a("")},className:"dropdown-item font-weight-bold sofia-pro",children:"All Domains"}),t.domainList.map((function(t,e){return Object(r.jsx)("button",{onClick:function(){j(t),a(t)},className:"dropdown-item font-weight-bold sofia-pro",children:t},e)}))]})]})})]})})})})}))}}]);
//# sourceMappingURL=9.23154b89.chunk.js.map