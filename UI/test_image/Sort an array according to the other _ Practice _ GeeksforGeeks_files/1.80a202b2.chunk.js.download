(this.webpackJsonpcomments=this.webpackJsonpcomments||[]).push([[1],{108:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return u}));n(135),n(0);var r=n(1),a=function(){return Object(r.jsx)("div",{className:"shimmer-wrapper",children:Object(r.jsx)("div",{className:"shimmer"})})};var o=function(t){var e=t.type,n="skeleton ".concat(e);return Object(r.jsx)("div",{className:n,children:Object(r.jsx)(a,{})})};function c(t){for(var e=[],n=0;n<t;n++)n%2===0?e.push(Object(r.jsx)(o,{type:"genericLineStyles sm"})):e.push(Object(r.jsx)(o,{type:"genericLineStyles md"}));return e}function i(){return Object(r.jsx)(o,{type:"genericLineStyles lg"})}function s(t){return Object(r.jsxs)("div",{className:"d-flex w-100",children:[Object(r.jsx)(o,{type:"genericLineStyles ".concat(t.type)}),Object(r.jsx)("div",{className:"ml-2",children:Object(r.jsx)(o,{type:"genericLineStyles ".concat(t.type)})})]})}function u(){var t=[];t.push(i());for(var e=0;e<5;e++)t.push(Object(r.jsxs)("div",{className:"d-flex mt-5",children:[Object(r.jsx)("div",{className:"voteSectionSkeleton",children:Object(r.jsx)(o,{type:"genericBrickStyles md"})}),Object(r.jsxs)("div",{className:"bodySectionSkeleton",children:[c(5),Object(r.jsx)(s,{type:"btn-skeleton-sm"})]})]}));return t}},135:function(t,e,n){},46:function(t,e,n){"use strict";n.d(e,"i",(function(){return u})),n.d(e,"l",(function(){return l})),n.d(e,"j",(function(){return m})),n.d(e,"k",(function(){return d})),n.d(e,"b",(function(){return f})),n.d(e,"d",(function(){return h})),n.d(e,"e",(function(){return g})),n.d(e,"g",(function(){return v})),n.d(e,"h",(function(){return y})),n.d(e,"f",(function(){return _})),n.d(e,"a",(function(){return w})),n.d(e,"c",(function(){return S}));var r=n(43),a=n.n(r),o=n(44),c=n(47),i=n(62),s=n.n(i);function u(t,e,n,r,a,o,i){return c.a.post("/comment/",{text:t,ancestry:e,post_id:r,domain:decodeURIComponent(n),post_url:a||"https://practice.geeksforgeeks.org",post_title:decodeURIComponent(o),tags:i}).then((function(t){return t})).catch((function(t){return Promise.reject(t)}))}function l(t,e,n,r,a,o){return c.a.put("/comment/".concat(n,"/"),{field:t,value:e,ancestry:r,domain:a,tags:o}).then((function(t){return t})).catch((function(t){return Promise.reject(t)}))}function m(t,e){return c.a.post("/unspam_comment/".concat(t,"/"),{domain:e}).then((function(t){return t})).catch((function(t){return Promise.reject(t)}))}function d(t){return c.a.post("/undelete_comment/".concat(t,"/"),{}).then((function(t){return t})).catch((function(t){return t}))}function f(t,e,n,r,a,o,c){return p.apply(this,arguments)}function p(){return(p=Object(o.a)(a.a.mark((function t(e,n,r,o,i,s,u){var l;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l={sort_by:e,ancestry:i,order_by:n},o&&Object.keys(o).length>0&&(l.last_evaluated_key=JSON.stringify(o)),s&&(l.fetch_by=s),u&&(l.domain=u),t.next=6,c.a.get("comment/".concat(r,"/"),{params:l}).then((function(t){return t})).catch((function(t){return Promise.reject(t)}));case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(){return b.apply(this,arguments)}function b(){return(b=Object(o.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.get("getUserInfo/",{}).then((function(t){return t})).catch((function(t){return Promise.reject(t)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(t){return j.apply(this,arguments)}function j(){return(j=Object(o.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.get("vote/",{params:{comment_id:e}}).then((function(t){return t})).catch((function(t){return Promise.reject(t)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t,e,n,r,a,o,c){return x.apply(this,arguments)}function x(){return(x=Object(o.a)(a.a.mark((function t(e,n,r,o,i,u,l){var m;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(m={domain:e,filter_by:n,order_by:r,last_evaluated_key:o}).from_timestamp=s()(i).format("YYYY-MM-DD HH:mm:ss"),m.to_timestamp=s()(u).format("YYYY-MM-DD HH:mm:ss"),t.next=5,c.a.get("filter_comment/",{params:m}).then((function(t){return t})).catch((function(t){return Promise.reject(t)}));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t,e,n,r,a,o,c,i){return O.apply(this,arguments)}function O(){return(O=Object(o.a)(a.a.mark((function t(e,n,r,o,i,u,l,m){var d;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(d={domain:e,filter_by:n,order_by:r,last_evaluated_key:o,tag_type:"public",tag:l,post_id:m}).from_timestamp=s()(i).format("YYYY-MM-DD HH:mm:ss"),d.to_timestamp=s()(u).format("YYYY-MM-DD HH:mm:ss"),t.next=5,c.a.get("filter-on-tag/",{params:d}).then((function(t){return t})).catch((function(t){return Promise.reject(t)}));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(t,e){return k.apply(this,arguments)}function k(){return(k=Object(o.a)(a.a.mark((function t(e,n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="/search_user/".concat(e,"/?domain=").concat(n),t.abrupt("return",c.a.get(r,{}).then((function(t){return t})).catch((function(t){return Promise.reject(t)})));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(t){return C.apply(this,arguments)}function C(){return(C=Object(o.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c.a.get("total_comments_on_domain/".concat(e,"/"),{}).then((function(t){return t})).catch((function(t){return Promise.reject(t)})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(t,e,n){return N.apply(this,arguments)}function N(){return(N=Object(o.a)(a.a.mark((function t(e,n,r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.get("https://utilapi.geeksforgeeks.org/api/termsearch/".concat(e,"/").concat(n,"/"),{headers:{"Content-Type":"application/json"},params:{type:r}}).then((function(t){return t})).catch((function(t){return Promise.reject(t)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},47:function(t,e,n){"use strict";var r=n(115);var a=n.n(r).a.create({baseURL:"https://comment.geeksforgeeks.org/api/"});a.defaults.withCredentials=!0;e.a=a},49:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return c}));var r=n(68),a=(n(63),n(1));r.a.configure();var o=function(t){return r.a.success(Object(a.jsx)("div",{dangerouslySetInnerHTML:{__html:t}}),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0})},c=function(t,e){r.a.error(t?Object(a.jsx)("div",{dangerouslySetInnerHTML:{__html:t}}):"Oops! something went wrong",{toastId:e})}},54:function(t,e,n){"use strict";var r=n(1);e.a=function(t){return Object(r.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show errorMessage p-4 d-flex flex-row align-items-center justify-content-center",role:"alert","data-dismiss":"alert","aria-label":"Close",children:[Object(r.jsx)("p",{children:t.errorMessage}),Object(r.jsx)("button",{type:"button",className:"close p-0 position-relative ml-3","data-dismiss":"alert","aria-label":"Close",onClick:function(){t.handleErrorClose()},children:Object(r.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})}},59:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return i}));var r=n(19),a=n.n(r);function o(t){t.current.scrollIntoView({behavior:"smooth"})}function c(){window.onscroll=function(){window.pageYOffset>document.documentElement.clientHeight?a()("#back-to-top").removeClass("d-none"):a()("#back-to-top").addClass("d-none")}}function i(t,e,n){n||(n=1);for(var r,a=[];r=e.exec(t);)a.push(r[n]);return a.filter((function(t,e,n){return n.indexOf(t)===e}))}},64:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return a}));var r=1e4,a=/data-hashtag=\"#([\w+\s.-]+)\"/g},73:function(t,e,n){"use strict";n.d(e,"a",(function(){return x}));var r=n(43),a=n.n(r),o=n(44),c=n(42),i=n(0),s=n(149),u=n(108),l=n(49),m=n(46),d=n(1),f=[{text:"HTML",value:"markup"},{text:"CSS",value:"css"},{text:"JavaScript",value:"javascript"},{text:"C",value:"c"},{text:"C++",value:"cpp"},{text:"C#",value:"csharp"},{text:"Java",value:"java"},{text:"Python",value:"python"},{text:"Scala",value:"scala"},{text:"PHP",value:"php"},{text:"Perl",value:"perl"}];function p(t){var e,n=t.plugins,r=t.toolbar,a=t.imageUploadHandler,o=t.onEditorChange,p=t.height,h=t.maxHeight,b=t.getRawData,g=t.onReady,j=t.domainName,v=(t.postId,t.commentData),x=new URLSearchParams(window.location.search).get("mode"),y=Object(i.useRef)(null),O=Object(i.useState)(!0),_=Object(c.a)(O,2),k=_[0],w=_[1],C=p||100,S=function(t){t.ui.registry.addAutocompleter("mentions",{ch:"@",minChars:3,columns:1,onAction:function(e,n,r){t.selection.setRng(n);var a='<a class="mention" contenteditable="false" data-mention="@'+r+'" href="https://auth.geeksforgeeks.org/user/'+r+'/">@'+r+"</a>&nbsp;";t.insertContent(a),e.hide()},matches:function(t,e){var n=e.lastIndexOf("@");return e.substring(n+1)},fetch:function(t){return new Promise((function(n){!function(t,n,r){clearTimeout(e),new Promise((function(a){e=setTimeout((function(){Object(m.f)(t,n).then((function(t){r(t.data)})).catch((function(t){return Promise.reject(t)}))}),500)}))}(t,j,(function(t){var e=t.map((function(t){return{type:"autocompleteitem",value:t,text:t}}));n(e)}))}))}})},N=function(t){t.ui.registry.addAutocompleter("hashtags",{ch:"#",minChars:3,columns:1,onAction:function(e,n,r){t.selection.setRng(n);var a='<a class="hashtag" contenteditable="false" data-hashtag="#'+r+'" href="http://'+window.location.host+"/dashboard?utm-source="+j+"&utm-event=comment-thread&hashtag="+r+'">#'+r+"</a>&nbsp;";t.insertContent(a),e.hide()},matches:function(t,e){var n=e.lastIndexOf("#");return e.substring(n+1)},fetch:function(t){return new Promise((function(n){!function(t,n,r,a){clearTimeout(e),new Promise((function(o){e=setTimeout((function(){Object(m.c)(t,n,r).then((function(t){a(t.data)})).catch((function(t){return Promise.reject(t)}))}),500)}))}(t,25,"name",(function(t){var e=t.map((function(t){return{type:"autocompleteitem",value:t,text:t}}));n(e)}))}))}})};return Object(d.jsxs)(d.Fragment,{children:[k&&Object(d.jsx)(u.b,{}),Object(d.jsx)("div",{style:k?{display:"none"}:{display:"block"},children:Object(d.jsx)(s.a,{apiKey:"lfz1rfxp6uedq2ins0xxjmmimxuffa1y2opq3la0egsxutiz",onInit:function(t,e){w(!1),y.current=e,g(y.current)},value:v,init:{mode:"textareas",placeholder:"You can use @ to mention any user and # to add tags in the comment.",paste_auto_cleanup_on_paste:!0,paste_preprocess:function(t,e){var n=(new DOMParser).parseFromString(e.content,"text/html");n.body.querySelectorAll("*").forEach((function(t){t.classList=[]})),e.content=n.body.innerHTML.replaceAll('class=""',"")},height:p,menubar:!1,branding:!1,statusbar:!1,resize:!0,plugins:n,toolbar:r,mobile:{toolbar_mode:"wrap"},toolbar_groups:{headinggroup:{icon:"format",tooltip:"Heading format",items:"h1 h2 h3 h4 h5 h6"}},autoresize_bottom_margin:0,max_height:h,min_height:C,codesample_languages:f,images_upload_credentials:!0,default_link_target:"_blank",target_list:!1,relative_urls:!1,skin:"dark"===x?"oxide-dark":"",content_css:"dark"===x?"dark":"",content_style:"h1{ font-size:22px; } h2{ font-size:20px; } h3{ font-size:18px; } h4{ font-size: 16px; } h5{ font-size:14px; } h6{ font-size:12px; } img { max-width:100% !important; } .mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before {color: #797980; opacity: 0.6; font-size: 14px}",contextmenu:"copy paste",setup:function(t){a&&function(t){t.ui.registry.addButton("customimageupload",{icon:"image",tooltip:"Insert Image",onAction:function(){var e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("multiple",!0),e.setAttribute("accept","image/png, image/jpeg"),e.addEventListener("change",(function(){null!=e.files&&e.files.length>0&&Object.keys(e.files).forEach((function(n){var r=new FileReader;r.onload=function(n){n.target.result.includes("data:image/")?(t.insertContent('<img style="display: block;" src="'.concat(n.target.result,"\" height='100'>")),e.value=""):Object(l.a)("Failed to upload image.")},r.readAsDataURL(e.files[n])}))})),e.click()}})}(t),S(t),N(t),t.on("BeforeExecCommand",(function(e){var n;"mceInsertContent"===e.command&&"string"===typeof(null===e||void 0===e?void 0:e.value)&&(null===e||void 0===e||null===(n=e.value)||void 0===n?void 0:n.includes('<pre id="__new" class="language'))&&(e.preventDefault(),t.insertContent("".concat(null===e||void 0===e?void 0:e.value.replace('id="__new"',""),"<p></p>")))}))},images_upload_handler:function(t,e,n){a&&a(t,e,n)}},onEditorChange:function(t,e){var n=e.getContent({format:"text"});o(b?e.getContent({format:"raw"}):e.getContent(),n)}})})]})}var h=n(47),b=n(64),g={backgroundColor:"#2F8D46"},j={fontFamily:"urw-din",fontSize:"16px",color:"#262932"},v={width:"36px",height:"36px"};function x(t){var e=t.saveComment,n=t.closeEditor,r=Object(i.useState)(!1),s=Object(c.a)(r,2),u=s[0],m=s[1],f=Object(i.useState)(t.userData),x=Object(c.a)(f,2),y=x[0],O=x[1],_=Object(i.useState)(),k=Object(c.a)(_,2),w=k[0],C=k[1],S=Object(i.useState)(!1),N=Object(c.a)(S,2),P=N[0],D=N[1],I=Object(i.useState)(""),H=Object(c.a)(I,2),M=H[0],Y=H[1];Object(i.useEffect)((function(){Y(t.commentData)}),[t.commentData]);function z(){return(z=Object(o.a)(a.a.mark((function n(){var r,o,i,s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(M.length>=b.b)){n.next=4;break}return Object(l.a)("Comment size is too big!"),m(!0),n.abrupt("return");case 4:return D(!0),n.next=7,e(M);case 7:r=n.sent,o=Object(c.a)(r,2),i=o[0],s=o[1],i&&(w.resetContent(),localStorage.removeItem(t.localStorageKey),Y("")),window.parent.postMessage({onCommentSubmit:i,commentId:s,commentData:M,postId:t.postId},"*"),D(!1);case 14:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(i.useEffect)((function(){O(t.userData)}),[t.userData]),Object(i.useEffect)((function(){m(t.disableSubmit)}),[t.disableSubmit]),Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("section",{children:Object(d.jsxs)("div",{className:"mt-3 ml-15 mr-15",children:[Object(d.jsx)(p,{onReady:function(t){C(t)},commentData:M,onEditorChange:function(e,n){t.localStorageKey&&!e?localStorage.removeItem(t.localStorageKey):t.localStorageKey&&e&&localStorage.setItem(t.localStorageKey,e),Y(e),e.includes("<img")||n.trim().length?m(!1):m(!0)},plugins:"bold italic underline strikethrough link lists blockquote insertfile customimageupload undo redo codesample autoresize superscript subscript table paste",toolbar:"headinggroup | bold italic underline strikethrough | link codesample customimageupload blockquote | bullist numlist | undo redo | table",imageUploadHandler:function(t,e,n){if(t.blob().size/1e3>2e3)n("Maximum image upload size is: 2 MB",{remove:!0});else{D(!0);var r=new FormData;r.append("image",t.blob(),t.filename()),h.a.post("/upload_image/",r,{headers:{"Content-Type":"multipart/form-data;"}}).then((function(t){var r,a;t.data.status?e(null===(r=t.data)||void 0===r?void 0:r.url):n(null===(a=t.data)||void 0===a?void 0:a.message,{remove:!0}),D(!1)})).catch((function(t){var e=t.response.data.message||"Upload failed";n(e,{remove:!0}),D(!1)}))}},maxheight:t.maxheight,height:t.height,domainName:t.domain,postId:t.postId}),Object(d.jsxs)("div",{className:"d-flex mt-3 mx-0",children:[Object(d.jsx)("div",{className:"col-sm-6 d-none d-sm-block p-0",children:Object(d.jsxs)("div",{className:"d-flex align-items-center mx-0",children:[Object(d.jsx)("div",{className:"",children:Object(d.jsx)("img",{style:v,className:"rounded-circle img-fluid",src:y.profile_image_url,alt:"avatar"})}),Object(d.jsx)("div",{className:"ml-2 curr-user-name",children:Object(d.jsxs)("span",{style:j,className:"text-secondary sofia-pro float-left",children:["Commenting as: ",y.handle," "]})})]})}),Object(d.jsxs)("div",{className:"col-sm-6 px-0",children:[Object(d.jsx)("button",{disabled:!M||u||(null===M||void 0===M?void 0:M.includes('<img src="data:'))||P,style:g,onClick:function(){!function(){z.apply(this,arguments)}()},className:"btn btn-sm btn-success float-right sofia-pro h-100",children:P?"Loading...":"Submit"}),t.cancel&&Object(d.jsx)("button",{onClick:function(){n()},className:"btn btn-sm btn-secondary btn-blue float-right sofia-pro mr-2 h-100",children:"Cancel"})]})]})]})})})}},74:function(t,e,n){},92:function(t,e,n){}}]);
//# sourceMappingURL=1.80a202b2.chunk.js.map